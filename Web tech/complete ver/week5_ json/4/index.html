<!DOCTYPE html>
<body>
    <script>
        let requestURL = 'movies.json';
        let request = new XMLHttpRequest();
        request.onreadystatechange = function () {
            if (request.readyState == 4 && request.status == 200) {
                ExtractData(JSON.parse(request.responseText));
            } };
        request.open("GET", requestURL, true);
        request.send();

        function ExtractData(data) {
            document.write(`
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta http-equiv="X-UA-Compatible" content="IE=edge">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Document</title>
                <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
            </head>
            <div class="container m-4">
            <h2>Showing</h2>
            <div class="container  m-5 d-flex flex-wrap" id="Show">`)
                for(let show of data.movies.showing){
                    document.write(`
                    <div class="card m-2" style="width: 18rem;">
                        <img class="card-img-top" src="${show.poster}" alt="Card image cap">
                        <div class="card-body">
                            <h5 class="card-title">${show.title_th}</h5>
                            <p class="card-text">releasedate:${show.releasedate}</p>
                            <a href="#" class="btn btn-primary">check round</a>
                        </div>
                    </div>`)
            }
            document.write('</div>')
            document.write(`
            <h2>Coming Soon</h2>
            <div class="container  m-5 d-flex flex-wrap" id="Show">`)
                for(let come of data.movies.comingsoon){
                    document.write(`
                    <div class="card m-2" style="width: 18rem;">
                        <img class="card-img-top" src="${come.poster}" alt="Card image cap">
                        <div class="card-body">
                            <h5 class="card-title">${come.title_th}</h5>
                            <p class="card-text">releasedate:${come.releasedate}</p>
                            <a href="#" class="btn btn-primary">check round</a>
                        </div>
                    </div>`)
                }
            document.write('</div> </html>')

        }
    </script>
</body>
